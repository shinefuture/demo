# shell脚本的调试

## 1 shell脚本调试技巧

### 1.1 使用dos2unix命令处理在windows下开发的脚本

格式：  
``dos2unix file``

注意：此命令可能需要安装。

### 1.2 使用echo命令调试 

在可能出现问题的脚本附件加入echo，打印出相应调试信息。

### 1.3 使用bash命令参数调试

``sh [-nvx] scripts.sh``

参数说明：
  - -n ：不会执行脚本，仅查询脚本语法是否有问题，并给出错误提示；
  - -v ：在执行脚本时，先将脚本的内容输出到屏幕上，然后执行脚本，如果有错误，也会给出错误提示；
  - -x ：将执行的脚本内容及输出显示到屏幕上。

### 1.4 使用set命令调试部分脚本内容

set命令可以用于复制脚本调试。

常用的调试选项：  
  - set -n ：读命令但并不执行；
  - set -v ：显示读取的所有行；
  - set -x ：显示所有命令及其参数。

提示：通过set -x命令开启调试功能，而通过set +x关闭调试功能。

